# ==============================================
# AFRISENSE BACKEND - Configuration Environnement
# ==============================================

# -----------------
# Base de données
# -----------------
# URL de connexion PostgreSQL avec PostGIS activé
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/afrisense_db?schema=public

# -----------------
# Serveur
# -----------------
# Port d'écoute du serveur Express
PORT=3000

# -----------------
# Authentification JWT
# -----------------
# Secret pour signer les tokens JWT (utiliser une chaîne aléatoire forte en production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Durée de validité des tokens JWT (ex: 1h, 7d, 30d)
JWT_EXPIRES_IN=10d

# -----------------
# Logging
# -----------------
# Niveau de log: debug, info, warn, error
LOG_LEVEL=info

# Répertoire des fichiers de logs
LOG_DIR=./logs

# Activer les logs dans la console en plus des fichiers (true/false)
LOG_TO_CONSOLE=true

# -----------------
# SMTP - Envoi d'emails pour les alertes
# -----------------
# Hôte du serveur SMTP
SMTP_HOST=smtp.gmail.com

# Port du serveur SMTP (587 pour TLS, 465 pour SSL)
SMTP_PORT=587

# Utiliser une connexion sécurisée SSL/TLS (true/false)
SMTP_SECURE=false

# Nom d'utilisateur SMTP
SMTP_USER=your-email@example.com

# Mot de passe SMTP
SMTP_PASS=your-smtp-password

# Adresse email d'expéditeur par défaut
SMTP_FROM=noreply@afrisense.com

# Email par défaut pour recevoir les alertes critiques
DEFAULT_ALERT_EMAIL=alerts@afrisense.com

# -----------------
# Webhooks & Intégrations
# -----------------
# Clé API pour sécuriser le webhook Traccar
TRACCAR_API_KEY=your-traccar-webhook-api-key

# -----------------
# Bulk Operations
# -----------------
# Taille des lots pour l'insertion en masse de positions GPS
POSITIONS_BULK_CHUNK_SIZE=5000

# -----------------
# Node Environment
# -----------------
# Environnement d'exécution: development, production, test
NODE_ENV=development

# -----------------
# External Notification Providers
# -----------------
# Resend (email) - https://resend.com
RESEND_API_KEY= re_akYDRBXP_4HnYVMrNNsmkai3ETXdEc2zP
RESEND_FROM_EMAIL= djerareoumbainaissem@gmail.com

# CallMeBot (SMS/WhatsApp)
CALLMEBOT_API_KEY=7006105
CALLMEBOT_PHONE=+23565579675
CALLMEBOT_SMS_URL=https://api.callmebot.com/sms.php
CALLMEBOT_WHATSAPP_URL=https://api.callmebot.com/whatsapp.php

# Alert thresholds for scheduled jobs (minutes)
ALERT_NO_MOVEMENT_MINUTES=15
ALERT_OFFLINE_MINUTES=10

# -----------------
# Notification overrides (optional)
# If set, these force all notifications to a single recipient (useful for testing)
NOTIFY_OVERRIDE_EMAIL=
NOTIFY_OVERRIDE_PHONE=
